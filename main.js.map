{"version":3,"file":"main.js","mappings":"mFACIA,EAA2B,CAAC,EAGhC,SAASC,EAAoBC,GAE5B,IAAIC,EAAeH,EAAyBE,GAC5C,QAAqBE,IAAjBD,EACH,OAAOA,EAAaE,QAGrB,IAAIC,EAASN,EAAyBE,GAAY,CAGjDG,QAAS,CAAC,GAOX,OAHAE,EAAoBL,GAAUI,EAAQA,EAAOD,QAASJ,GAG/CK,EAAOD,OACf,CAGAJ,EAAoBO,EAAID,ECzBxBN,EAAoBQ,EAAI,CAACC,EAAKC,IAAUC,OAAOC,UAAUC,eAAeC,KAAKL,EAAKC,GCAlFV,EAAoBe,EAAI,GCAxBf,EAAoBgB,EAAIC,SAASC,SAAWC,KAAKC,SAASC,K,MCAnD,MAAMC,EAAe,CACxB,CACEC,KAAM,QACNC,KAAM,iFAER,CACED,KAAM,sBACNC,KAAM,6FAER,CACED,KAAM,UACNC,KAAM,kFAER,CACED,KAAM,WACNC,KAAM,oFAER,CACED,KAAM,qBACNC,KAAM,6FAER,CACED,KAAM,SACNC,KAAM,kFCvBNC,EAAQ,uCACRC,EAAoB,qDACpBC,EAAkB,kDAClBC,EAAkBD,EAAkB,SACpCE,EAAmBH,EAAoB,UAG7C,SAASI,EAAcN,GACrB,OAAOO,MAAMP,EAAM,CACjBQ,QAAS,CACPC,cAAeR,IAGrB,CCXA,MAAMS,EAAejB,SAASkB,cAAc,kBAAkBC,QAavD,SAASC,EAAgBC,GAC9B,MAAMC,EAAOD,EAAIE,OAAOC,QAAQ,SAC1BC,EAASH,EAAKI,QAAQC,QACtBC,EAAgBP,EAAIE,OAAOM,UAAUC,SAAS,+BAC9CC,EAAmBT,EAAKJ,cAAc,wBAC5CG,EAAIE,OAAOM,UAAUG,OAAO,+BAhB9B,SAA0BP,EAAQQ,EAAMF,IDqEjC,SAAiCN,EAAQQ,GAC9C,IAAIC,EAOJ,OALEA,EADED,EACO,MAEA,SAGJnB,MAAMH,EAAkB,IAAMc,EAAQ,CAC3CS,OAAQA,EACRnB,QAAS,CACPC,cAAeR,KAGhB2B,MAAKC,GACAA,EAAIC,GACCD,EAAIE,OAEJC,QAAQC,UAGvB,ECzFEC,CAAwBhB,EAAQQ,GAC7BE,MAAKO,IACAA,EAASC,QAAOZ,EAAiBa,YAAcF,EAASC,MAAME,QAAU,EAAC,IAE9EC,OAAM,KACLC,QAAQC,IAAI,mCACZC,oBAAoB,GAE1B,CAQEC,CAAiBzB,GAASG,EAAeG,EAC3C,CCtBO,SAASoB,EAAUC,GACxBpD,SAASqD,iBAAiB,UAAWC,GACrCF,EAAMvB,UAAU0B,IAAI,kBACtB,CAEO,SAASC,EAAUJ,GACxBpD,SAASyD,oBAAoB,UAAWH,GACxCF,EAAMvB,UAAU6B,OAAO,kBACzB,CAMA,SAASJ,EAAyBjC,GAChB,WAAZA,EAAIsC,KAENH,EADcxD,SAASkB,cAAc,oBAGzC,CAEO,SAAS0C,EAA+BvC,GAC7C,MAAM+B,EAAQ/B,EAAIE,OACdF,EAAIE,OAAOM,UAAUC,SAAS,oBAAoB0B,EAAUJ,EAClE,CCxBA,MAAMS,EAAwB,0EAC9B,IAAIC,EAAcC,EAAeC,EAAsBC,EAAqBC,EAAiBC,EAE7F,SAASC,EAAsBC,GAC7BP,EAAeO,EAAmBP,aAClCC,EAAgBM,EAAmBN,cACnCC,EAAuBK,EAAmBL,qBAC1CC,EAAsBI,EAAmBJ,oBACzCC,EAAkBG,EAAmBH,gBACrCC,EAAaE,EAAmBF,UAClC,CAgBA,SAASG,EAAQC,EAAaC,EAAcC,GAAa,GACnDD,EAAaE,SAASC,gBACxBH,EAAaI,kBAAkBf,GAE/BW,EAAaI,kBAAkB,IAE7BJ,EAAaE,SAASG,OAASJ,EAbrC,SAAwBF,EAAaC,GACnC,MAAMM,EAAeP,EAAYrD,cAAe,IAAGsD,EAAalE,cAChEkE,EAAa3C,UAAU6B,OAAOQ,GAC9BY,EAAalC,YAAc,GAC3BkC,EAAajD,UAAU6B,OAAOS,EAChC,CASIY,CAAeR,EAAaC,GArBhC,SAAwBD,EAAaC,EAAcQ,GACjD,MAAMF,EAAeP,EAAYrD,cAAe,IAAGsD,EAAalE,cAChEkE,EAAa3C,UAAU0B,IAAIW,GAC3BY,EAAalC,YAAcoC,EAC3BF,EAAajD,UAAU0B,IAAIY,EAC7B,CAkBIc,CAAeV,EAAaC,EAAcA,EAAaU,kBAE3D,CAQA,SAASC,EAAe9D,GACtBA,EAAI8D,gBACN,CAYA,SAASC,EAAkBC,EAAWC,IApBtC,SAAyBD,GACvB,OAAOA,EAAUE,MAAMf,IACbA,EAAaE,SAASG,OAElC,CAiBMW,CAAgBH,GANtB,SAAsBC,GACpBA,EAAc7B,oBAAoB,QAAS0B,GAC3CG,EAAczD,UAAU6B,OAAOO,EACjC,CAMIwB,CAAaH,GAdjB,SAAuBA,GACrBA,EAAcjC,iBAAiB,QAAS8B,GACxCG,EAAczD,UAAU0B,IAAIU,EAC9B,CASIyB,CAAcJ,EAIlB,CAEO,SAASK,EAAkBpB,EAAaF,EAAoBI,GAAa,GAC9EL,EAAsBC,GAEtB,MAAMgB,EAAYO,MAAMC,KAAKtB,EAAYuB,iBAAiB/B,IAE1DqB,EAAkBC,EADId,EAAYrD,cAAc8C,IAEhDqB,EAAUU,SAASvB,IACjBF,EAAQC,EAAaC,EAAcC,EAAW,GAElD,CCnEA,MAAMuB,EAAehG,SAASkB,cAAc,oBACtC+E,EAAejG,SAASkB,cAAc,wBACtCgF,EAAalG,SAASkB,cAAc,qBACpCiF,EAAoBnG,SAASkB,cAAc,4BAC3CkF,EAAcpG,SAASkB,cAAc,sBAErCmF,EAAcrG,SAASkB,cAAc,mBACrCoF,EAAqBtG,SAASkB,cAAc,yBAC5CqF,EAAgBvG,SAASkB,cAAc,iBACvCsF,EAAoBxG,SAASkB,cAAc,mBAC3CuF,EAAYzG,SAASkB,cAAc,iBACnCwF,EAAgB1G,SAASkB,cAAc,wBACvCyF,EAAoB3G,SAASkB,cAAc,yBAC3C0F,EAAS5G,SAASkB,cAAc,mBAEhC2F,EAAmBb,EAAa9E,cAAc,gBAC9C4F,EAAmBb,EAAa/E,cAAc,gBAC9C6F,EAAkBX,EAAYlF,cAAc,gBAC5C8F,EAAwBb,EAAkBjF,cAAc,gBAExD+F,EAAgBhB,EAAa/E,cAAc,4BAC3CgG,EAAgBjB,EAAa/E,cAAc,sBAC3CiG,EAAmBnB,EAAa9E,cAAc,sBAC9CkG,EAA0BpB,EAAa9E,cAAc,6BACrDmG,EAAkBjB,EAAYlF,cAAc,6BAE5CoG,EAA0BtB,EAAa9E,cAAc,iBACrDqG,EAA0BtB,EAAa/E,cAAc,iBACrDsG,EAAwBtB,EAAWhF,cAAc,iBACjDuG,EAA+BtB,EAAkBjF,cAAc,iBAC/DwG,EAAyBtB,EAAYlF,cAAc,iBAEnDyG,EAA2B3B,EAAa9E,cAAc,kBACtD0G,GAA2B3B,EAAa/E,cAAc,kBACtD2G,GAA0BzB,EAAYlF,cAAc,kBAEpDmD,GAAqB,CACzBP,aAAc,eACdC,cAAe,gBACfC,qBAAsB,iBACtBC,oBAAqB,yBACrBC,gBAAiB,0BACjBC,WAAY,wBAIR2D,GAAiB,CACrBC,MAAO,uBACPnB,OAHwB,IAAIoB,IAAI,YAIhC1H,KAAM,eACN2H,IAAK,GAGP,IAAIC,GACAC,GAAO,EAEX,SAASC,GAAeC,EAAcC,GAChCA,EACFD,EAAazF,YAAc,cAE3B2F,YAAW,KACTF,EAAazF,YAAc,WAAW,GACrC,IAEP,CA+BA,SAAS4F,GAAiBjI,EAAMD,IANhC,SAA2BC,EAAMD,GAC/BiG,EAAckC,IAAMlI,EACpBgG,EAAcmC,IAAMpI,EACpBkG,EAAkB5D,YAActC,CAClC,CAGEqI,CAAkBpI,EAAMD,GACxB6C,EAAU+C,EACZ,CAEA,SAAS0C,GAAiBvH,GACxB6G,GAAgB7G,EAAIE,OAAOC,QAAQ,SACnC2B,EAAUgD,EACZ,CAEA,SAAS0C,GAAQnG,EAAUoG,GAAU,GACnC,MAAMC,EH3FD,SAAoBrG,EAAUsG,EAAcC,EAAcC,EAAaf,GAC5E,MAAMgB,EAAclI,EAAaC,cAAc,SAASkI,WAAU,GAC5DC,EAAYF,EAAYjI,cAAc,gBACtCoI,EAAYH,EAAYjI,cAAc,gBACtCqI,EAAmBJ,EAAYjI,cAAc,wBAC7CsI,EAAiBL,EAAYjI,cAAc,sBAC3Ca,EAAmBoH,EAAYjI,cAAc,wBA2BnD,OAzBAqI,EAAiBlG,iBAAiB,QAAS2F,GAC3CQ,EAAenG,iBAAiB,QAAS6F,GACzCG,EAAUhG,iBAAiB,SAAS,IAAM4F,EAAavG,EAASnC,KAAMmC,EAASpC,QAE/E+I,EAAUZ,IAAM/F,EAASnC,KACzB8I,EAAUX,IAAMhG,EAASpC,KACzBgJ,EAAU1G,YAAcF,EAASpC,KAEjC6I,EAAYzH,QAAQC,QAAUe,EAASuF,KAAO,EAE1CvF,EAASC,OACXZ,EAAiBa,YAAcF,EAASC,MAAME,QAAU,EACpDH,EAASC,MAAM4C,MAAKtD,GAAQA,EAAKgG,MAAQE,KAC3CqB,EAAe3H,UAAU0B,IAAI,gCAG/BxB,EAAiBa,YAAc,EAG7BF,EAAS+G,MACP/G,EAAS+G,MAAMxB,MAAQE,GAAMoB,EAAiB7F,SAElD6F,EAAiB7F,SAGZyF,CACT,CGyDkBO,CAAWhH,EAAUkG,GAAkBJ,GAAkBpH,EAAiB+G,IACtFW,EACFrC,EAAUqC,QAAQC,GAElBtC,EAAUkD,OAAOZ,EAErB,CAEA,SAASa,GAAYC,GACnBA,EAAS9D,SAAQrD,IACfmG,GAAQnG,EAAS,GAErB,CAiCA,SAASoH,GAA8BzI,GAErCmC,EADcnC,EAAIE,OAAOC,QAAQ,UAEnC,CA0FA,SAASuI,GAAgBC,GACvB3D,EAAYzD,YAAcoH,EAAK1J,KAC/BgG,EAAmB1D,YAAcoH,EAAKjC,MACtCnB,EAAOqD,MAAMC,gBAAkB,QAAUF,EAAKpD,OAAS,KACvDuB,GAAO6B,EAAK/B,GACd,CAQA,SAAShF,KALPjD,SAAS8F,iBAAiB,SAASC,SAAQzE,IACzCA,EAAKoC,QAAQ,IJtPRnB,QAAQ4H,IAAI,CAACtJ,EAAcJ,GAAoBI,EAAcH,KACjEyB,MAAKiI,GAAa7H,QAAQ4H,IAAIC,EAAUC,KAAIjI,GACvCA,EAAIC,GACCD,EAAIE,OAEJC,QAAQC,cIwPlBL,MAAK6H,IACJD,GAAgBC,EAAK,IACrBJ,GAAYI,EAAK,GAAG,IAErBlH,OAAM,KACLC,QAAQC,IAAI,oCACZ+G,GAAgBjC,IAChB8B,GAAYvJ,EAAa,GAE/B,CAuCAL,SAAS8F,iBAAiB,UAAUC,SAAQ3C,GFnTrC,SAA8BA,GACnCA,EAAMvB,UAAU0B,IAAI,oBACtB,CEiTqD+G,CAAqBlH,KAvJxEsD,EAAcrD,iBAAiB,SAtBjC,WAlDE4D,EAAcsD,MAAQ,GACtBrD,EAAcqD,MAAQ,GAmDtB5E,EAAkBmB,EAAkBzC,IAAoB,GACxDlB,EAAU8C,EACZ,IAmBEa,EAAiBzD,iBAAiB,UAjBpC,SAAkChC,GAChCA,EAAI8D,iBACJiD,GAAeR,IAA0B,GAvB3C,WACE,MAAMlF,EAAW,CAAC,EAKlB,OAJAA,EAASpC,KAAO2G,EAAcsD,MAC9B7H,EAASnC,KAAO2G,EAAcqD,MAC9B7H,EAAS+G,MAAQ,CAAExB,IAAKE,IA2J1B,SAAoBzF,GAClB,OJtPK,SAA2BA,GAChC,OAAO5B,MAAMJ,EAAiB,CAC5BwB,OAAQ,OACRnB,QAAS,CACPC,cAAeR,EACf,eAAgB,oBAElBgK,KAAMC,KAAKC,UAAUhI,KAEpBP,MAAKC,GACAA,EAAIC,GACCD,EAAIE,OAEJC,QAAQC,UAGvB,CIsOSmI,CAAkBjI,GACtBP,MAAKO,GAAYA,EAASuF,MAC1BnF,OAAM,KACLC,QAAQC,IAAI,sCACZC,IAAoB,GAE1B,CAhKS2H,CAAWlI,GACfP,MAAKC,IACJM,EAASuF,IAAM7F,EACfyG,GAAQnG,GAAU,EAAK,GAE7B,CAaEmI,GACGC,SAAQ,KACPtH,EAAUyC,GACVmC,GAAeR,IAA0B,EAAM,GAErD,IAUEL,EAAwBlE,iBAAiB,QAASyG,IAClD7D,EAAa5C,iBAAiB,YAAaO,GAuB3C+C,EAAkBtD,iBAAiB,SAlBrC,WAlGE8D,EAAiBoD,MAAQlE,EAAYzD,YACrCwE,EAAwBmD,MAAQjE,EAAmB1D,YAmGnD+C,EAAkBkB,EAAkBxC,IACpClB,EAAU6C,EACZ,IAeEa,EAAiBxD,iBAAiB,UAbpC,SAAkChC,GAoGlC,IJ9P2Cf,EAAMyH,EI2J/C1G,EAAI8D,iBACJiD,GAAeT,GAA0B,GArGzCtB,EAAYzD,YAAcuE,EAAiBoD,MAC3CjE,EAAmB1D,YAAcwE,EAAwBmD,OJxDhBjK,EI+PP+F,EAAYzD,YJ/PCmF,EI+PYzB,EAAmB1D,YJ9PvE9B,MAAML,EAAmB,CAC9ByB,OAAQ,QACRnB,QAAS,CACPC,cAAeR,EACf,eAAgB,oBAElBgK,KAAMC,KAAKC,UAAU,CACnBpK,KAAMA,EACNyH,MAAOA,MAGR5F,MAAKC,IACJ,IAAKA,EAAIC,GAAI,OAAOE,QAAQC,QAAQ,KImPrCM,OAAM,KACLC,QAAQC,IAAI,qCACZC,IAAoB,IAnGrB6H,SAAQ,KACPtH,EAAUwC,GACVoC,GAAeT,GAA0B,EAAM,GAErD,IAKEL,EAAwBjE,iBAAiB,QAASyG,IAClD9D,EAAa3C,iBAAiB,YAAaO,GAM3C4D,EAAsBnE,iBAAiB,QAASyG,IAChDvD,EAAclD,iBAAiB,QAASyG,IACxC5D,EAAW7C,iBAAiB,YAAaO,GAuBzCgD,EAAOvD,iBAAiB,SAlB1B,WA1HEgE,EAAgBkD,MAAQ3D,EAAOqD,MAAMC,gBAAgBa,MAAM,GAAG,GA4H9DpF,EAAkBoB,EAAiB1C,IACnClB,EAAUiD,EACZ,IAeEW,EAAgB1D,iBAAiB,UAbnC,SAAiChC,GJtG1B,IAAmCd,EIuGxCc,EAAI8D,iBACJiD,GAAeP,IAAyB,GA9HxCjB,EAAOqD,MAAMC,gBAAkB,QAAU7C,EAAgBkD,MAAQ,MJsBzBhK,EImM3BqG,EAAOqD,MAAMC,gBAAgBa,MAAM,GAAG,GJnNrD,SAAmBxK,GACjB,OAAOO,MAAMP,EAAM,CACf2B,OAAQ,SAEPC,MAAKC,IACJ,IAAKA,EAAIC,KAAOD,EAAIrB,QAAQiK,IAAI,gBAAgBC,SAAS,SAEvD,OADAlI,QAAQC,IAAI,+BACLT,QAAQC,QACjB,IAEDM,OAAM,KACLC,QAAQC,IAAI,0BACLT,QAAQC,WAEvB,CAGS0I,CAAU3K,GACd4B,MAAK,IACGrB,MAAMF,EAAkB,CAC7BsB,OAAQ,QACRnB,QAAS,CACPC,cAAeR,EACf,eAAgB,oBAElBgK,KAAMC,KAAKC,UAAU,CACnB9D,OAAQrG,QAIb4B,MAAKC,IACJ,IAAKA,EAAIC,GAAI,OAAOE,QAAQC,QAAQ,KIsLrCM,OAAM,KACLC,QAAQC,IAAI,qCACZC,IAAoB,IA5FrB6H,SAAQ,KACPtH,EAAU4C,GACVgC,GAAeP,IAAyB,EAAM,GAEpD,IAKEH,EAAuBrE,iBAAiB,QAASyG,IACjD1D,EAAY/C,iBAAiB,YAAaO,GAgB1CoD,EAAsB3D,iBAAiB,UAXzC,SAAuChC,GACrC,MAAMI,EAASyG,GAAcxG,QAAQC,QACrCN,EAAI8D,iBACJ+C,GAAcxE,SA4DhB,SAA4BjC,GAC1B,OJ7OK,SAAmCA,GACxC,OAAOX,MAAMJ,EAAkB,IAAMe,EAAQ,CAC3CS,OAAQ,SACRnB,QAAS,CACPC,cAAeR,KAGhB2B,MAAKC,IACJ,IAAKA,EAAIC,GAAI,OAAOE,QAAQC,QAAQ,GAE1C,CImOS2I,CAA0B1J,GAC9BqB,OAAM,KACLC,QAAQC,IAAI,uCACZC,IAAoB,GAE1B,CAjEEmI,CAAmB3J,GAChBqJ,SAAQ,KACPtH,EAAU2C,EAAkB,GAElC,IAIEsB,EAA6BpE,iBAAiB,QAASyG,IACvD3D,EAAkB9C,iBAAiB,YAAaO,GD1J3C,SAA0BS,GAC/BD,EAAsBC,GAELuB,MAAMC,KAAK7F,SAAS8F,iBAAiBhC,IAC7CiC,SAASxB,KAnBpB,SAA2BA,EAAaF,GACtC,MAAMgB,EAAYO,MAAMC,KAAKtB,EAAYuB,iBAAiB/B,IACpDuB,EAAgBf,EAAYrD,cAAc8C,GAChDoB,EAAkBC,EAAWC,GAC7BD,EAAUU,SAASvB,IACjBA,EAAanB,iBAAiB,SAAS,KACrCiB,EAAQC,EAAaC,GACrBY,EAAkBC,EAAWC,EAAc,GAC3C,IAEJA,EAAcjC,iBAAiB,SAAUhC,IACvCsE,EAAkBpB,EAAaF,EAAmB,GAEtD,CAOIgH,CAAkB9G,EAAaF,EAAmB,GAEtD,CCiOAiH,CAAiBjH,IAEjBpB,I","sources":["webpack://yandex.praktikum/webpack/bootstrap","webpack://yandex.praktikum/webpack/runtime/hasOwnProperty shorthand","webpack://yandex.praktikum/webpack/runtime/publicPath","webpack://yandex.praktikum/webpack/runtime/jsonp chunk loading","webpack://yandex.praktikum/./src/scripts/cards.js","webpack://yandex.praktikum/./src/scripts/api.js","webpack://yandex.praktikum/./src/scripts/card.js","webpack://yandex.praktikum/./src/scripts/modal.js","webpack://yandex.praktikum/./src/scripts/validation.js","webpack://yandex.praktikum/./src/scripts/index.js"],"sourcesContent":["// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","__webpack_require__.p = \"\";","__webpack_require__.b = document.baseURI || self.location.href;\n\n// object to store loaded and loading chunks\n// undefined = chunk not loaded, null = chunk preloaded/prefetched\n// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded\nvar installedChunks = {\n\t792: 0\n};\n\n// no chunk on demand loading\n\n// no prefetching\n\n// no preloaded\n\n// no HMR\n\n// no HMR manifest\n\n// no on chunks loaded\n\n// no jsonp function","export const initialCards = [\r\n    {\r\n      name: \"Архыз\",\r\n      link: \"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/arkhyz.jpg\",\r\n    },\r\n    {\r\n      name: \"Челябинская область\",\r\n      link: \"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/chelyabinsk-oblast.jpg\",\r\n    },\r\n    {\r\n      name: \"Иваново\",\r\n      link: \"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/ivanovo.jpg\",\r\n    },\r\n    {\r\n      name: \"Камчатка\",\r\n      link: \"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/kamchatka.jpg\",\r\n    },\r\n    {\r\n      name: \"Холмогорский район\",\r\n      link: \"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/kholmogorsky-rayon.jpg\",\r\n    },\r\n    {\r\n      name: \"Байкал\",\r\n      link: \"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/baikal.jpg\",\r\n    }\r\n];","const token = '2763cd9f-9006-409d-8ad3-ee41bf99bf04';\r\nconst serverProfileLink = 'https://nomoreparties.co/v1/wff-cohort-15/users/me';\r\nconst serverCardsLink = 'https://nomoreparties.co/v1/wff-cohort-15/cards';\r\nconst serverLikesLink = serverCardsLink + '/likes';\r\nconst serverAvatarLink = serverProfileLink + '/avatar';\r\n\r\n\r\nfunction getFromServer(link) {\r\n  return fetch(link, {\r\n    headers: {\r\n      authorization: token,\r\n    }\r\n  })\r\n}\r\n\r\nexport function loadDataFromServerRequest() {\r\n  return Promise.all([getFromServer(serverProfileLink), getFromServer(serverCardsLink)])\r\n    .then(responses => Promise.all(responses.map(res => {\r\n      if (res.ok) {\r\n        return res.json();\r\n      } else {\r\n        return Promise.reject();\r\n      }\r\n    })))\r\n}\r\n\r\nexport function updateServerProfileRequest(name, about) {\r\n  return fetch(serverProfileLink, {\r\n    method: 'PATCH',\r\n    headers: {\r\n      authorization: token,\r\n      'Content-Type': 'application/json'\r\n    },\r\n    body: JSON.stringify({\r\n      name: name,\r\n      about: about\r\n    })\r\n  })\r\n    .then(res => {\r\n      if (!res.ok) return Promise.reject();\r\n    })\r\n}\r\n\r\nexport function uploadCardRequest(cardData) {\r\n  return fetch(serverCardsLink, {\r\n    method: 'POST',\r\n    headers: {\r\n      authorization: token,\r\n      'Content-Type': 'application/json'\r\n    },\r\n    body: JSON.stringify(cardData)\r\n  })\r\n    .then(res => {\r\n      if (res.ok) {\r\n        return res.json();\r\n      } else {\r\n        return Promise.reject();\r\n      }\r\n    })\r\n}\r\n\r\nexport function deleteCardOnServerRequest(cardId) {\r\n  return fetch(serverCardsLink + '/' + cardId, {\r\n    method: 'DELETE',\r\n    headers: {\r\n      authorization: token,\r\n    }\r\n  })\r\n    .then(res => {\r\n      if (!res.ok) return Promise.reject();\r\n    })\r\n}\r\n\r\nexport function sendLikeToServerRequest(cardId, like) {\r\n  let method;\r\n  if (like) {\r\n    method = 'PUT';\r\n  } else {\r\n    method = 'DELETE';\r\n  }\r\n  \r\n  return fetch(serverLikesLink + '/' + cardId, {\r\n    method: method,\r\n    headers: {\r\n      authorization: token,\r\n    }\r\n  })\r\n    .then(res => {\r\n      if (res.ok) {\r\n        return res.json();\r\n      } else {\r\n        return Promise.reject();\r\n      }\r\n    }) \r\n}\r\n\r\nfunction checkLink(link) {\r\n  return fetch(link, {\r\n      method: 'HEAD',\r\n    })\r\n      .then(res => {\r\n        if (!res.ok || !res.headers.get('Content-Type').includes('image')) {\r\n          console.log('Ошибка: некорректная ссылка');\r\n          return Promise.reject();\r\n        }\r\n      })\r\n      .catch(() => {\r\n        console.log('Ошибка проверки ссылки');\r\n        return Promise.reject();\r\n      })\r\n}\r\n\r\nexport function updateServerAvatarRequest(link) {\r\n  return checkLink(link)\r\n    .then(() => {    \r\n      return fetch(serverAvatarLink, {\r\n        method: 'PATCH',\r\n        headers: {\r\n          authorization: token,\r\n          'Content-Type': 'application/json'\r\n        },\r\n        body: JSON.stringify({\r\n          avatar: link\r\n        })\r\n      })\r\n    })  \r\n    .then(res => {\r\n      if (!res.ok) return Promise.reject();\r\n    })\r\n}\r\n","import { sendLikeToServerRequest } from './api.js';\r\n\r\nconst cardTemplate = document.querySelector('#card-template').content;\r\n\r\nfunction sendLikeToServer(cardId, like, cardLikesCounter) {\r\n  sendLikeToServerRequest(cardId, like)\r\n    .then(cardData => {\r\n      if (cardData.likes) cardLikesCounter.textContent = cardData.likes.length || 0;\r\n    })\r\n    .catch(() => {\r\n      console.log('Ошибка отправки лайка на сервер');\r\n      loadDataFromServer();\r\n    })\r\n}\r\n\r\nexport function handleClickLike(evt) {\r\n  const card = evt.target.closest('.card');\r\n  const cardId = card.dataset.imageId\r\n  const oldLikeStatus = evt.target.classList.contains('card__like-button_is-active');\r\n  const cardLikesCounter = card.querySelector('.card__likes_counter');\r\n  evt.target.classList.toggle('card__like-button_is-active');\r\n  sendLikeToServer(cardId, !oldLikeStatus, cardLikesCounter);\r\n}\r\n\r\nexport function createCard(cardData, onDeleteCard, onClickImage, onClickLike, myId) {\r\n  const cardElement = cardTemplate.querySelector('.card').cloneNode(true);\r\n  const cardImage = cardElement.querySelector('.card__image');\r\n  const cardTitle = cardElement.querySelector('.card__title');\r\n  const cardDeleteButton = cardElement.querySelector('.card__delete-button');\r\n  const cardLikeButton = cardElement.querySelector('.card__like-button');\r\n  const cardLikesCounter = cardElement.querySelector('.card__likes_counter');\r\n\r\n  cardDeleteButton.addEventListener('click', onDeleteCard);\r\n  cardLikeButton.addEventListener('click', onClickLike);\r\n  cardImage.addEventListener('click', () => onClickImage(cardData.link, cardData.name));\r\n\r\n  cardImage.src = cardData.link;\r\n  cardImage.alt = cardData.name;\r\n  cardTitle.textContent = cardData.name;\r\n\r\n  cardElement.dataset.imageId = cardData._id || 0;\r\n  \r\n  if (cardData.likes) {\r\n    cardLikesCounter.textContent = cardData.likes.length || 0;\r\n    if (cardData.likes.some(like => like._id === myId)) {\r\n      cardLikeButton.classList.add('card__like-button_is-active');\r\n    }\r\n  } else {\r\n    cardLikesCounter.textContent = 0;\r\n  }\r\n  \r\n  if (cardData.owner) {\r\n    if (cardData.owner._id !== myId) cardDeleteButton.remove();\r\n  } else {\r\n    cardDeleteButton.remove();\r\n  }\r\n\r\n  return cardElement;\r\n}\r\n","export function showPopup(popup) {\r\n  document.addEventListener('keydown', handleClosePopupByEscape);\r\n  popup.classList.add('popup_is-opened');\r\n}\r\n\r\nexport function hidePopup(popup) {\r\n  document.removeEventListener('keydown', handleClosePopupByEscape);\r\n  popup.classList.remove('popup_is-opened');\r\n}\r\n\r\nexport function enablePopupAnimation(popup) {\r\n  popup.classList.add('popup_is-animated');\r\n}\r\n\r\nfunction handleClosePopupByEscape(evt) {\r\n  if (evt.key === 'Escape') {\r\n    const popup = document.querySelector('.popup_is-opened');\r\n    hidePopup(popup);\r\n  }\r\n}\r\n\r\nexport function handleClosePopupByClickOverlay(evt) {\r\n  const popup = evt.target;\r\n  if (evt.target.classList.contains('popup_is-opened')) hidePopup(popup);\r\n}\r\n","const customValidityMessage = 'Разрешены только латинские, кириллические буквы, знаки дефиса и пробелы';\r\nlet formSelector, inputSelector, submitButtonSelector, inactiveButtonClass, inputErrorClass, errorClass;\r\n\r\nfunction setValidationSettings(validationSettings) {\r\n  formSelector = validationSettings.formSelector;\r\n  inputSelector = validationSettings.inputSelector;\r\n  submitButtonSelector = validationSettings.submitButtonSelector;\r\n  inactiveButtonClass = validationSettings.inactiveButtonClass;\r\n  inputErrorClass = validationSettings.inputErrorClass;\r\n  errorClass = validationSettings.errorClass;\r\n}\r\n\r\nfunction showInputError(formElement, inputElement, errorMessage) {\r\n  const errorElement = formElement.querySelector(`.${inputElement.name}-error`);\r\n  inputElement.classList.add(inputErrorClass);\r\n  errorElement.textContent = errorMessage;\r\n  errorElement.classList.add(errorClass);\r\n}\r\n\r\nfunction hideInputError(formElement, inputElement) {\r\n  const errorElement = formElement.querySelector(`.${inputElement.name}-error`);\r\n  inputElement.classList.remove(inputErrorClass);\r\n  errorElement.textContent = '';\r\n  errorElement.classList.remove(errorClass);\r\n}\r\n\r\nfunction isValid(formElement, inputElement, forceValid = false) {\r\n  if (inputElement.validity.patternMismatch) {\r\n    inputElement.setCustomValidity(customValidityMessage);\r\n  } else {\r\n    inputElement.setCustomValidity('');\r\n  }\r\n  if (inputElement.validity.valid || forceValid) {\r\n    hideInputError(formElement, inputElement);\r\n  } else {\r\n    showInputError(formElement, inputElement, inputElement.validationMessage);\r\n  }\r\n}\r\n\r\nfunction hasInvalidInput(inputList) {\r\n  return inputList.some((inputElement) => {\r\n    return !inputElement.validity.valid;\r\n  })\r\n}\r\n\r\nfunction preventDefault(evt) {\r\n  evt.preventDefault();\r\n}\r\n\r\nfunction disableButton(buttonElement) {\r\n  buttonElement.addEventListener('click', preventDefault)\r\n  buttonElement.classList.add(inactiveButtonClass);\r\n}\r\n\r\nfunction enableButton(buttonElement) {\r\n  buttonElement.removeEventListener('click', preventDefault)\r\n  buttonElement.classList.remove(inactiveButtonClass);\r\n}\r\n\r\nfunction toggleButtonState(inputList, buttonElement) {\r\n  if (hasInvalidInput(inputList)) {\r\n    disableButton(buttonElement);\r\n  } else {\r\n    enableButton(buttonElement);\r\n  }\r\n}\r\n\r\nexport function refreshValidState(formElement, validationSettings, forceValid = false) {\r\n  setValidationSettings(validationSettings);\r\n\r\n  const inputList = Array.from(formElement.querySelectorAll(inputSelector));\r\n  const buttonElement = formElement.querySelector(submitButtonSelector);\r\n  toggleButtonState(inputList, buttonElement);\r\n  inputList.forEach((inputElement) => {\r\n    isValid(formElement, inputElement, forceValid);\r\n  });\r\n}\r\n\r\nfunction setEventListeners(formElement, validationSettings) {\r\n  const inputList = Array.from(formElement.querySelectorAll(inputSelector));\r\n  const buttonElement = formElement.querySelector(submitButtonSelector);\r\n  toggleButtonState(inputList, buttonElement);\r\n  inputList.forEach((inputElement) => {\r\n    inputElement.addEventListener('input', () => {\r\n      isValid(formElement, inputElement);\r\n      toggleButtonState(inputList, buttonElement);\r\n    });\r\n  });\r\n  buttonElement.addEventListener('click', (evt) => {\r\n    refreshValidState(formElement, validationSettings);\r\n  })\r\n}\r\n\r\nexport function enableValidation(validationSettings) {\r\n  setValidationSettings(validationSettings);\r\n\r\n  const formList = Array.from(document.querySelectorAll(formSelector));\r\n  formList.forEach((formElement) => {\r\n    setEventListeners(formElement, validationSettings);\r\n  });\r\n}\r\n","import '../pages/index.css';\r\n\r\nimport { initialCards } from './cards.js';\r\nimport { createCard, handleClickLike } from './card.js';\r\nimport { showPopup, hidePopup, enablePopupAnimation, handleClosePopupByClickOverlay } from './modal.js';\r\nimport { enableValidation, refreshValidState } from './validation.js';\r\nimport { loadDataFromServerRequest, updateServerProfileRequest, uploadCardRequest,\r\n         deleteCardOnServerRequest, updateServerAvatarRequest } from './api.js';\r\n\r\nconst popupProfile = document.querySelector('.popup_type_edit');\r\nconst popupNewCard = document.querySelector('.popup_type_new-card');\r\nconst popupImage = document.querySelector('.popup_type_image');\r\nconst popupConfirmation = document.querySelector('.popup_type_confirmation');\r\nconst popupAvatar = document.querySelector('.popup_type_avatar');\r\n\r\nconst profileName = document.querySelector('.profile__title');\r\nconst profileDescription = document.querySelector('.profile__description');\r\nconst popupImageImg = document.querySelector('.popup__image');\r\nconst popupImageCaption = document.querySelector('.popup__caption');\r\nconst cardsList = document.querySelector('.places__list');\r\nconst buttonNewCard = document.querySelector('.profile__add-button');\r\nconst buttonEditProfile = document.querySelector('.profile__edit-button');\r\nconst avatar = document.querySelector('.profile__image');\r\n\r\nconst popupProfileForm = popupProfile.querySelector('.popup__form');\r\nconst popupNewCardForm = popupNewCard.querySelector('.popup__form');\r\nconst popupAvatarForm = popupAvatar.querySelector('.popup__form');\r\nconst popupConfirmationForm = popupConfirmation.querySelector('.popup__form');\r\n\r\nconst inputCardName = popupNewCard.querySelector('input[name=\"place-name\"]');\r\nconst inputCardLink = popupNewCard.querySelector('input[name=\"link\"]');\r\nconst inputProfileName = popupProfile.querySelector('input[name=\"name\"]');\r\nconst inputProfileDescription = popupProfile.querySelector('input[name=\"description\"]');\r\nconst inputAvatarLink = popupAvatar.querySelector('input[name=\"avatar-link\"]');\r\n\r\nconst popupProfileCloseButton = popupProfile.querySelector('.popup__close');\r\nconst popupNewCardCloseButton = popupNewCard.querySelector('.popup__close');\r\nconst popupImageCloseButton = popupImage.querySelector('.popup__close');\r\nconst popupConfirmationCloseButton = popupConfirmation.querySelector('.popup__close');\r\nconst popupAvatarCloseButton = popupAvatar.querySelector('.popup__close');\r\n\r\nconst popupProfileSubmitButton = popupProfile.querySelector('.popup__button');\r\nconst popupNewCardSubmitButton = popupNewCard.querySelector('.popup__button');\r\nconst popupAvatarSubmitButton = popupAvatar.querySelector('.popup__button');\r\n\r\nconst validationSettings = {\r\n  formSelector: '.popup__form',\r\n  inputSelector: '.popup__input',\r\n  submitButtonSelector: '.popup__button',\r\n  inactiveButtonClass: 'popup__button_disabled',\r\n  inputErrorClass: 'popup__input_type_error',\r\n  errorClass: 'popup__error_visible'\r\n}\r\n\r\nconst defaultAvatarLink = new URL('../images/avatar.jpg', import.meta.url);\r\nconst defaultProfile = {\r\n  about: 'Исследователь океана',\r\n  avatar: defaultAvatarLink,\r\n  name: 'Жак-Ив Кусто',\r\n  _id: 0\r\n}\r\n\r\nlet cardForDelete;\r\nlet myId = 0;\r\n\r\nfunction setPendingText(submitButton, state) {\r\n  if (state) {\r\n    submitButton.textContent = 'Сохранение\\u2026';\r\n  } else {\r\n    setTimeout(() => {\r\n      submitButton.textContent = 'Сохранить';\r\n    }, 600);\r\n  }\r\n}\r\n\r\nfunction loadInfoFromProfile() {\r\n  inputProfileName.value = profileName.textContent;\r\n  inputProfileDescription.value = profileDescription.textContent;\r\n}\r\n\r\nfunction saveInfoToProfile() {\r\n  profileName.textContent = inputProfileName.value;\r\n  profileDescription.textContent = inputProfileDescription.value;\r\n}\r\n\r\nfunction loadInfoFromAvatar() {\r\n  inputAvatarLink.value = avatar.style.backgroundImage.slice(5,-2);\r\n}\r\n\r\nfunction saveInfoToAvatar() {\r\n  avatar.style.backgroundImage = 'url(\"' + inputAvatarLink.value + '\")';\r\n}\r\n\r\nfunction clearCardInfo() {\r\n  inputCardName.value = '';\r\n  inputCardLink.value = '';\r\n}\r\n\r\nfunction setPopupImageInfo(link, name) {\r\n  popupImageImg.src = link;\r\n  popupImageImg.alt = name;\r\n  popupImageCaption.textContent = name;\r\n}\r\n\r\nfunction handleClickImage(link, name) {\r\n  setPopupImageInfo(link, name);\r\n  showPopup(popupImage);\r\n}\r\n\r\nfunction handleDeleteCard(evt) {\r\n  cardForDelete = evt.target.closest('.card');\r\n  showPopup(popupConfirmation);\r\n}\r\n\r\nfunction addCard(cardData, prepend = false) {\r\n  const newCard = createCard(cardData, handleDeleteCard, handleClickImage, handleClickLike, myId);\r\n  if (prepend) {\r\n    cardsList.prepend(newCard);\r\n  } else {\r\n    cardsList.append(newCard);\r\n  }\r\n}\r\n\r\nfunction addCardsSet(cardsSet) {\r\n  cardsSet.forEach(cardData => {\r\n    addCard(cardData);\r\n  });\r\n}\r\n\r\nfunction addCardFromPopup() {\r\n  const cardData = {};\r\n  cardData.name = inputCardName.value;\r\n  cardData.link = inputCardLink.value;\r\n  cardData.owner = { _id: myId };\r\n  \r\n  return uploadCard(cardData)\r\n    .then(res => {\r\n      cardData._id = res;\r\n      addCard(cardData, true);\r\n    })\r\n}\r\n\r\n////// NewCard Popup\r\n\r\nfunction handleOpenPopupNewCard() {\r\n  clearCardInfo();\r\n  refreshValidState(popupNewCardForm, validationSettings, true);\r\n  showPopup(popupNewCard);\r\n}\r\n\r\nfunction handleSubmitPopupNewCard(evt) {\r\n  evt.preventDefault();\r\n  setPendingText(popupNewCardSubmitButton, true);\r\n  addCardFromPopup()\r\n    .finally(() => {\r\n      hidePopup(popupNewCard);\r\n      setPendingText(popupNewCardSubmitButton, false);\r\n    })\r\n}\r\n\r\nfunction handleClosePopupByClickButton(evt) {\r\n  const popup = evt.target.closest('.popup');\r\n  hidePopup(popup);\r\n}\r\n\r\nfunction enablePopupNewCard() {\r\n  buttonNewCard.addEventListener('click', handleOpenPopupNewCard);\r\n  popupNewCardForm.addEventListener('submit', handleSubmitPopupNewCard);\r\n  popupNewCardCloseButton.addEventListener('click', handleClosePopupByClickButton);\r\n  popupNewCard.addEventListener('mousedown', handleClosePopupByClickOverlay);\r\n}\r\n\r\n////// Profile Popup\r\n\r\nfunction handleOpenPopupProfile() {\r\n  loadInfoFromProfile();\r\n  refreshValidState(popupProfileForm, validationSettings);\r\n  showPopup(popupProfile);\r\n}\r\n\r\nfunction handleSubmitPopupProfile(evt) {\r\n  evt.preventDefault();\r\n  setPendingText(popupProfileSubmitButton, true);\r\n  saveInfoToProfile();\r\n  updateServerProfile()\r\n    .finally(() => {\r\n      hidePopup(popupProfile);\r\n      setPendingText(popupProfileSubmitButton, false);\r\n    })\r\n}\r\n\r\nfunction enablePopupProfile() {\r\n  buttonEditProfile.addEventListener('click', handleOpenPopupProfile);\r\n  popupProfileForm.addEventListener('submit', handleSubmitPopupProfile);\r\n  popupProfileCloseButton.addEventListener('click', handleClosePopupByClickButton);\r\n  popupProfile.addEventListener('mousedown', handleClosePopupByClickOverlay);\r\n}\r\n\r\n////// Image Popup\r\n\r\nfunction enablePopupImage() {\r\n  popupImageCloseButton.addEventListener('click', handleClosePopupByClickButton);\r\n  popupImageImg.addEventListener('click', handleClosePopupByClickButton);\r\n  popupImage.addEventListener('mousedown', handleClosePopupByClickOverlay);\r\n}\r\n\r\n////// Avatar Popup\r\n\r\nfunction handleOpenPopupAvatar() {\r\n  loadInfoFromAvatar();\r\n  refreshValidState(popupAvatarForm, validationSettings);\r\n  showPopup(popupAvatar);\r\n}\r\n\r\nfunction handleSubmitPopupAvatar(evt) {\r\n  evt.preventDefault();\r\n  setPendingText(popupAvatarSubmitButton, true);\r\n  saveInfoToAvatar();\r\n  updateServerAvatar()\r\n    .finally(() => {\r\n      hidePopup(popupAvatar);\r\n      setPendingText(popupAvatarSubmitButton, false);\r\n    })\r\n}\r\n\r\nfunction enablePopupAvatar() {\r\n  avatar.addEventListener('click', handleOpenPopupAvatar);\r\n  popupAvatarForm.addEventListener('submit', handleSubmitPopupAvatar);\r\n  popupAvatarCloseButton.addEventListener('click', handleClosePopupByClickButton);\r\n  popupAvatar.addEventListener('mousedown', handleClosePopupByClickOverlay);\r\n}\r\n\r\n////// Confirmation Popup\r\n\r\nfunction handleSubmitPopupConfirmation(evt) {\r\n  const cardId = cardForDelete.dataset.imageId;\r\n  evt.preventDefault();\r\n  cardForDelete.remove();\r\n  deleteCardOnServer(cardId)\r\n    .finally(() => {\r\n      hidePopup(popupConfirmation);\r\n    })\r\n}\r\n\r\nfunction enablePopupConfirmation() {\r\n  popupConfirmationForm.addEventListener('submit', handleSubmitPopupConfirmation);\r\n  popupConfirmationCloseButton.addEventListener('click', handleClosePopupByClickButton);\r\n  popupConfirmation.addEventListener('mousedown', handleClosePopupByClickOverlay);\r\n}\r\n\r\n\r\n////// Server interaction\r\n\r\nfunction setLocalProfile(data) {\r\n  profileName.textContent = data.name;\r\n  profileDescription.textContent = data.about;\r\n  avatar.style.backgroundImage = 'url(\"' + data.avatar + '\")';\r\n  myId = data._id;\r\n}\r\n\r\nfunction wipeLocalCards() {\r\n  document.querySelectorAll('.card').forEach(card => {\r\n    card.remove();\r\n  });\r\n}\r\n\r\nfunction loadDataFromServer() {\r\n  wipeLocalCards();\r\n  loadDataFromServerRequest()\r\n    .then(data => {\r\n      setLocalProfile(data[0]);\r\n      addCardsSet(data[1]);\r\n    })\r\n    .catch(() => {\r\n      console.log('Ошибка загрузки данных с сервера');\r\n      setLocalProfile(defaultProfile);\r\n      addCardsSet(initialCards);\r\n    })\r\n}\r\n\r\nfunction updateServerProfile() {\r\n  return updateServerProfileRequest(profileName.textContent, profileDescription.textContent)\r\n    .catch(() => {\r\n      console.log('Ошибка выгрузки профиля на сервер');\r\n      loadDataFromServer();\r\n    })\r\n}\r\n\r\nfunction uploadCard(cardData) {\r\n  return uploadCardRequest(cardData)\r\n    .then(cardData => cardData._id)\r\n    .catch(() => {\r\n      console.log('Ошибка выгрузки карточки на сервер');\r\n      loadDataFromServer();\r\n    })\r\n}\r\n\r\nfunction deleteCardOnServer(cardId) {\r\n  return deleteCardOnServerRequest(cardId)\r\n    .catch(() => {\r\n      console.log('Ошибка удаления карточки на сервере');\r\n      loadDataFromServer();\r\n    })\r\n}\r\n\r\n\r\nfunction updateServerAvatar() {\r\n  const link = avatar.style.backgroundImage.slice(5,-2);\r\n  return updateServerAvatarRequest(link)\r\n    .catch(() => {\r\n      console.log('Ошибка выгрузки аватара на сервер');\r\n      loadDataFromServer();\r\n    })\r\n}\r\n\r\n\r\n\r\ndocument.querySelectorAll('.popup').forEach(popup => enablePopupAnimation(popup));\r\n\r\nenablePopupNewCard();\r\nenablePopupProfile();\r\nenablePopupImage();\r\nenablePopupAvatar();\r\nenablePopupConfirmation();\r\n\r\nenableValidation(validationSettings);\r\n\r\nloadDataFromServer();\r\n"],"names":["__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","undefined","exports","module","__webpack_modules__","m","o","obj","prop","Object","prototype","hasOwnProperty","call","p","b","document","baseURI","self","location","href","initialCards","name","link","token","serverProfileLink","serverCardsLink","serverLikesLink","serverAvatarLink","getFromServer","fetch","headers","authorization","cardTemplate","querySelector","content","handleClickLike","evt","card","target","closest","cardId","dataset","imageId","oldLikeStatus","classList","contains","cardLikesCounter","toggle","like","method","then","res","ok","json","Promise","reject","sendLikeToServerRequest","cardData","likes","textContent","length","catch","console","log","loadDataFromServer","sendLikeToServer","showPopup","popup","addEventListener","handleClosePopupByEscape","add","hidePopup","removeEventListener","remove","key","handleClosePopupByClickOverlay","customValidityMessage","formSelector","inputSelector","submitButtonSelector","inactiveButtonClass","inputErrorClass","errorClass","setValidationSettings","validationSettings","isValid","formElement","inputElement","forceValid","validity","patternMismatch","setCustomValidity","valid","errorElement","hideInputError","errorMessage","showInputError","validationMessage","preventDefault","toggleButtonState","inputList","buttonElement","some","hasInvalidInput","enableButton","disableButton","refreshValidState","Array","from","querySelectorAll","forEach","popupProfile","popupNewCard","popupImage","popupConfirmation","popupAvatar","profileName","profileDescription","popupImageImg","popupImageCaption","cardsList","buttonNewCard","buttonEditProfile","avatar","popupProfileForm","popupNewCardForm","popupAvatarForm","popupConfirmationForm","inputCardName","inputCardLink","inputProfileName","inputProfileDescription","inputAvatarLink","popupProfileCloseButton","popupNewCardCloseButton","popupImageCloseButton","popupConfirmationCloseButton","popupAvatarCloseButton","popupProfileSubmitButton","popupNewCardSubmitButton","popupAvatarSubmitButton","defaultProfile","about","URL","_id","cardForDelete","myId","setPendingText","submitButton","state","setTimeout","handleClickImage","src","alt","setPopupImageInfo","handleDeleteCard","addCard","prepend","newCard","onDeleteCard","onClickImage","onClickLike","cardElement","cloneNode","cardImage","cardTitle","cardDeleteButton","cardLikeButton","owner","createCard","append","addCardsSet","cardsSet","handleClosePopupByClickButton","setLocalProfile","data","style","backgroundImage","all","responses","map","enablePopupAnimation","value","body","JSON","stringify","uploadCardRequest","uploadCard","addCardFromPopup","finally","slice","get","includes","checkLink","deleteCardOnServerRequest","deleteCardOnServer","setEventListeners","enableValidation"],"sourceRoot":""}